"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[2763],{2763:(k,m,i)=>{i.r(m),i.d(m,{LogBinPageModule:()=>_});var b=i(177),u=i(4341),c=i(8974),l=i(8986),p=i(467),n=i(4438),P=i(7731),h=i(7291),C=i(3366);const M=()=>[0,1],x=(e,a)=>({enabled:e,disabled:a});function v(e,a){1&e&&(n.j41(0,"div",16)(1,"h1",17),n.EFF(2,"M\xe1s opciones"),n.k0s(),n.nrm(3,"div",18),n.j41(4,"div",19)(5,"button",20),n.nrm(6,"img",21),n.EFF(7," Email "),n.k0s(),n.j41(8,"button",22),n.nrm(9,"img",23),n.EFF(10," Google "),n.k0s(),n.j41(11,"button",24),n.EFF(12," Cancelar "),n.k0s()()())}const y=[{path:"",component:(()=>{var e;class a{togglePasswordVisibility(){"password"===this.passwordType?(this.passwordType="text",this.passwordIcon="eye"):(this.passwordType="password",this.passwordIcon="eye-off")}onEmailChange(){this.isEmailValid=this.password.trim().length>0}constructor(t,o,r,s,d){this.router=t,this.route=o,this.jwtService=r,this.storageService=s,this.api=d,this.password="",this.passwordType="password",this.passwordIcon="eye-off",this.con="",this.isEmailValid=!1,this.email=""}ngOnInit(){this.setMail()}setMail(){this.route.queryParams.subscribe(t=>{this.email=t.EMAIL2,console.log(this.email)})}login(){var t=this;return(0,p.A)(function*(){const o=yield t.jwtService.generateTokenLogEmail("CORREO",t.email,t.password,!1);t.api.getValidate(o).subscribe(function(){var r=(0,p.A)(function*(s){if(t.data=s.data,!0===t.data.isValidate){const f=yield t.getUserData(o),w=t.jwtService.generateTokenMain("CORREO",f,!0);yield t.storageService.setItem("token",w),t.router.navigate(["/home"])}else alert("usuario incorrecto!")});return function(s){return r.apply(this,arguments)}}())})()}getUserData(t){var o=this;return(0,p.A)(function*(){return new Promise((r,s)=>{o.api.getInformation(t).subscribe(d=>{o.data=d.data,o.storageService.removeItem("user"),o.storageService.setItem("user",o.data);const f=Number(o.data.usu_id);r(f)},d=>{console.error("Error al consumir el servicio:",d),s(d.message)})})})()}saveDataToken(t){var o=this;return(0,p.A)(function*(){yield o.storageService.removeItem("token"),yield o.storageService.setItem("token",t)})()}}return(e=a).\u0275fac=function(t){return new(t||e)(n.rXU(l.Ix),n.rXU(l.nX),n.rXU(P.b),n.rXU(h.n),n.rXU(C.G))},e.\u0275cmp=n.VBU({type:e,selectors:[["app-log-bin"]],decls:23,vars:12,consts:[[3,"fullscreen"],[1,"container"],[1,"row"],[1,"col-12"],[1,"content"],[1,"inicio"],[1,"input-bar"],["placeholder","Ingresa tu contrase\xf1a",3,"ngModelChange","type","ngModel"],["slot","end",3,"click","name"],["id","mas-opc2",1,"rev-cod"],["routerLink","/olv-con",1,"ini-con"],["trigger","mas-opc2","mode","ios",3,"initialBreakpoint","breakpoints"],[1,"footer-btn"],[1,"btn-container"],["routerLink","/log-con",1,"btn-atr"],[1,"btn-sig",3,"click","disabled","ngClass"],[1,"PART"],[1,"mad"],[1,"line"],[1,"button-container"],[1,"custom-button","password-button"],["src","assets/images/mail.svg","alt","Contrase\xf1a",1,"button-icon"],[1,"custom-button","google-button"],["src","assets/images/GLE.svg","alt","Contrase\xf1a",1,"button-icon"],[1,"custom-button","cancel-button"]],template:function(t,o){1&t&&(n.j41(0,"ion-content",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h1"),n.EFF(7,"Bienvenida, de nuevo!"),n.k0s(),n.j41(8,"div",6)(9,"ion-input",7),n.bIt("ngModelChange",function(){return o.onEmailChange()}),n.mxI("ngModelChange",function(s){return n.DH7(o.password,s)||(o.password=s),s}),n.k0s(),n.j41(10,"ion-icon",8),n.bIt("click",function(){return o.togglePasswordVisibility()}),n.k0s()(),n.j41(11,"button",9),n.EFF(12,"m\xe1s opciones de inicio "),n.k0s(),n.j41(13,"button",10),n.EFF(14,"olvid\xe9 mi contrase\xf1a "),n.k0s(),n.j41(15,"ion-modal",11),n.DNE(16,v,13,0,"ng-template"),n.k0s()()()()(),n.j41(17,"footer",12)(18,"div",13)(19,"button",14),n.EFF(20,"Atr\xe1s"),n.k0s(),n.j41(21,"button",15),n.bIt("click",function(){return o.login()}),n.EFF(22,"Siguiente"),n.k0s()()()()()),2&t&&(n.Y8G("fullscreen",!0),n.R7$(9),n.Y8G("type",o.passwordType),n.R50("ngModel",o.password),n.R7$(),n.Y8G("name",o.passwordIcon),n.R7$(5),n.Y8G("initialBreakpoint",1)("breakpoints",n.lJ4(8,M)),n.R7$(6),n.Y8G("disabled",!o.isEmailValid)("ngClass",n.l_i(9,x,o.isEmailValid,!o.isEmailValid)))},dependencies:[b.YU,u.BC,u.vS,c.W9,c.iq,c.$w,c.Sb,c.Gw,c.N7,l.Wk],styles:['@charset "UTF-8";ion-content[_ngcontent-%COMP%]{--background: #FFFFFF;--padding-start: 0;--padding-end: 0;--padding-top: 0;--padding-bottom: 0;display:flex;flex-direction:column;height:100%}ion-content[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;height:100%;padding:50px}ion-content[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin-top:50px;width:70%;font-size:30px;font-family:Poppins medium;margin-bottom:20px}ion-content[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{width:100%;font-size:16px;font-family:Poppins}ion-content[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .input-bar[_ngcontent-%COMP%]{position:relative;padding:15px 20px;display:flex;border:1px solid #212121;height:56px;border-radius:30px;justify-content:center;align-items:center;margin-block:40px;color:#212121}ion-content[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .input-bar[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{flex:1;border:none;outline:none;background-color:transparent;font-size:16px;font-family:Poppins,sans-serif}ion-content[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .btn-container[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-between;padding-bottom:20px}ion-content[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .btn-atr[_ngcontent-%COMP%]{border:1px solid #212121;padding-inline:10px;padding-top:15px;padding-bottom:15px;border-radius:30px;width:40%;background-color:#fff;font-family:Poppins,sans-serif;font-size:15px;font-weight:600}ion-content[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .btn-sig.disabled[_ngcontent-%COMP%]{border:1px solid #C8C5CA;padding-inline:10px;padding-top:15px;padding-bottom:15px;border-radius:30px;width:40%;background-color:#fff;font-family:Poppins,sans-serif;font-size:15px;font-weight:600;cursor:not-allowed}ion-content[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .btn-sig.enabled[_ngcontent-%COMP%]{border:1px solid #79FFAF;padding-inline:10px;padding-top:15px;padding-bottom:15px;border-radius:30px;width:40%;font-size:15px;font-weight:600;background-color:#79ffaf;font-family:Poppins,sans-serif}ion-content[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{font-family:Poppins,sans-serif}ion-content[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:24px;cursor:pointer;margin-left:10px;color:#49454f}ion-content[_ngcontent-%COMP%]   .rev-cod[_ngcontent-%COMP%]{font-family:Poppins;display:flex;border:1px solid #212121;margin-top:50px;border-radius:30PX;background-color:#fff;padding:20px;font-weight:500}ion-content[_ngcontent-%COMP%]   .ini-con[_ngcontent-%COMP%]{font-family:Poppins;display:flex;border:1px solid #212121;margin-top:20px;border-radius:30PX;color:#fff;background-color:#212121;padding:20px}ion-modal[_ngcontent-%COMP%]{--height: auto}.PART[_ngcontent-%COMP%]{width:100%;height:395px}.line[_ngcontent-%COMP%]{width:100%;border:1px solid #D4D4D4}.mad[_ngcontent-%COMP%]{color:#524f4f;font-size:17px;text-align:center;font-weight:500;padding-top:5px;padding-bottom:10px;font-family:Poppins,sans-serif}.button-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:20px;margin-top:50px}.custom-button[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-start;border-radius:25px;background:#fff;border:1px solid #212121;width:300px;height:50px;font-size:18px;color:#000;cursor:pointer;font-family:Poppins,sans-serif;padding-left:40px}.button-icon[_ngcontent-%COMP%]{margin-right:10px}.google-button[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-start}.cancel-button[_ngcontent-%COMP%]{justify-content:center;background:#212121;border-width:0;color:#fff;font-family:Poppins,sans-serif;padding-left:0}']}),a})()}];let O=(()=>{var e;class a{}return(e=a).\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.$C({type:e}),e.\u0275inj=n.G2t({imports:[l.iI.forChild(y),l.iI]}),a})(),_=(()=>{var e;class a{}return(e=a).\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.$C({type:e}),e.\u0275inj=n.G2t({imports:[b.MD,u.YN,c.bv,O]}),a})()}}]);